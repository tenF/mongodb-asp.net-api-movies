# ASP.NET 2.2 + MongoDb API

Basic movie store API with ASP.NET 2.2 and MongoDb

### Configure MongoDb

- First you need to install MongoDb and set up the PATH variable if it isn't already set up for you.
- After that you need to open a console window and type the following code:
```bash
mongo
use MoviesDb
db.createCollection('Movies')
db.Movies.insertMany([
{"title":"Once Upon a Time in the West","year":1968,"rated":"PG-13","runtime":175,"countries":["Italy","USA","Spain"],"genres":["Western"],"director":"Sergio Leone","writers":["Sergio Donati","Sergio Leone","Dario Argento","Bernardo Bertolucci","Sergio Leone"],"actors":["Claudia Cardinale","Henry Fonda","Jason Robards","Charles Bronson"],"plot":"Epic story of a mysterious stranger with a harmonica who joins forces with a notorious desperado to protect a beautiful widow from a ruthless assassin working for the railroad.","poster":"http://ia.media-imdb.com/images/M/MV5BMTEyODQzNDkzNjVeQTJeQWpwZ15BbWU4MDgyODk1NDEx._V1_SX300.jpg","imdb":{"id":"tt0064116","rating":8.6,"votes":201283},"tomato":{"meter":98,"image":"certified","rating":9,"reviews":54,"fresh":53,"consensus":"A landmark Sergio Leone spaghetti western masterpiece featuring a classic Morricone score.","userMeter":95,"userRating":4.3,"userReviews":64006},"metacritic":80,"awards":{"wins":4,"nominations":5,"text":"4 wins \u0026 5 nominations."},"type":"movie"},
{"title":"A Million Ways to Die in the West","year":2014,"rated":"R","runtime":116,"countries":["USA"],"genres":["Comedy","Western"],"director":"Seth MacFarlane","writers":["Seth MacFarlane","Alec Sulkin","Wellesley Wild"],"actors":["Seth MacFarlane","Charlize Theron","Amanda Seyfried","Liam Neeson"],"plot":"As a cowardly farmer begins to fall for the mysterious new woman in town, he must put his new-found courage to the test when her husband, a notorious gun-slinger, announces his arrival.","poster":"http://ia.media-imdb.com/images/M/MV5BMTQ0NDcyNjg0MV5BMl5BanBnXkFtZTgwMzk4NTA4MTE@._V1_SX300.jpg","imdb":{"id":"tt2557490","rating":6.1,"votes":126592},"tomato":{"meter":33,"image":"rotten","rating":4.9,"reviews":188,"fresh":62,"consensus":"While it offers a few laughs and boasts a talented cast, Seth MacFarlane's overlong, aimless A Million Ways to Die in the West is a disappointingly scattershot affair.","userMeter":40,"userRating":3,"userReviews":62945},"metacritic":44,"awards":{"wins":0,"nominations":6,"text":"6 nominations."},"type":"movie"},
{"title":"Wild Wild West","year":1999,"rated":"PG-13","runtime":106,"countries":["USA"],"genres":["Action","Western","Comedy"],"director":"Barry Sonnenfeld","writers":["Jim Thomas","John Thomas","S.S. Wilson","Brent Maddock","Jeffrey Price","Peter S. Seaman"],"actors":["Will Smith","Kevin Kline","Kenneth Branagh","Salma Hayek"],"plot":"The two best hired guns in the West must save President Grant from the clutches of a nineteenth-century inventor-villain.","poster":"http://ia.media-imdb.com/images/M/MV5BNDI5NDk5MjgxMl5BMl5BanBnXkFtZTcwNjI1MTUyMQ@@._V1_SX300.jpg","imdb":{"id":"tt0120891","rating":4.8,"votes":124558},"tomato":{"meter":17,"image":"rotten","rating":4.1,"reviews":130,"fresh":22,"consensus":"Bombastic, manic, and largely laugh-free, Wild Wild West is a bizarre misfire in which greater care was lavished upon the special effects than on the script.","userMeter":28,"userRating":2.7,"userReviews":463740},"metacritic":38,"awards":{"wins":10,"nominations":11,"text":"10 wins \u0026 11 nominations."},"type":"movie"},
{"title":"West Side Story","year":1961,"rated":"UNRATED","runtime":152,"countries":["USA"],"genres":["Crime","Drama","Musical"],"director":"Jerome Robbins, Robert Wise","writers":["Ernest Lehman","Arthur Laurents","Jerome Robbins"],"actors":["Natalie Wood","Richard Beymer","Russ Tamblyn","Rita Moreno"],"plot":"Two youngsters from rival New York City gangs fall in love, but tensions between their respective friends build toward tragedy.","poster":"http://ia.media-imdb.com/images/M/MV5BMTM0NDAxOTI5MF5BMl5BanBnXkFtZTcwNjI4Mjg3NA@@._V1_SX300.jpg","imdb":{"id":"tt0055614","rating":7.6,"votes":67824},"awards":{"wins":18,"nominations":11,"text":"Won 10 Oscars. Another 18 wins \u0026 11 nominations."},"type":"movie"},
{"title":"Slow West","year":2015,"rated":"R","runtime":84,"countries":["UK","New Zealand"],"genres":["Action","Thriller","Western"],"director":"John Maclean","writers":["John Maclean"],"actors":["Kodi Smit-McPhee","Michael Fassbender","Ben Mendelsohn","Aorere Paki"],"plot":"A young Scottish man travels across America in pursuit of the woman he loves, attracting the attention of an outlaw who is willing to serve as a guide.","poster":"http://ia.media-imdb.com/images/M/MV5BNTYxNDA5ODk5NF5BMl5BanBnXkFtZTgwNzMwMzIwNTE@._V1_SX300.jpg","imdb":{"id":"tt3205376","rating":7,"votes":19101},"tomato":{"meter":92,"image":"certified","rating":7.5,"reviews":115,"fresh":106,"consensus":"Slow West serves as an impressive calling card for first-time writer-director John M. Maclean -- and offers an inventive treat for fans of the Western.","userMeter":75,"userRating":3.7,"userReviews":9850},"metacritic":72,"awards":{"wins":2,"nominations":9,"text":"2 wins \u0026 9 nominations."},"type":"movie"},
{"title":"An American Tail: Fievel Goes West","year":1991,"rated":"G","runtime":75,"countries":["USA"],"genres":["Animation","Adventure","Family"],"director":"Phil Nibbelink, Simon Wells","writers":["Flint Dille","Charles Swenson","David Kirschner"],"actors":["Phillip Glasser","James Stewart","Erica Yohn","Cathy Cavadini"],"plot":"A family of Emigre mice decide to move out to the west, unaware that they are falling into a trap perpetrated by a smooth talking cat.","poster":"http://ia.media-imdb.com/images/M/MV5BMTYzODMxNTUyNF5BMl5BanBnXkFtZTcwMTAwMzQyMQ@@._V1_SX300.jpg","imdb":{"id":"tt0101329","rating":6.4,"votes":16013},"awards":{"wins":0,"nominations":0,"text":""},"type":"movie"},
{"title":"Red Rock West","year":1993,"rated":"R","runtime":98,"countries":["USA"],"genres":["Crime","Drama","Thriller"],"director":"John Dahl","writers":["John Dahl","Rick Dahl"],"actors":["Nicolas Cage","Dennis Hopper","Lara Flynn Boyle","J.T. Walsh"],"plot":"When a promised job for Texan Michael fails to materialise in Wyoming, Mike is mistaken by Wayne to be the hitman he hired to kill his unfaithful wife, Suzanne. Mike takes full advantage of...","poster":"http://ia.media-imdb.com/images/M/MV5BMTk0Mjg4OTc3OF5BMl5BanBnXkFtZTYwNzgzOTg5._V1_SX300.jpg","imdb":{"id":"tt0105226","rating":7,"votes":15007},"awards":{"wins":0,"nominations":3,"text":"3 nominations."},"type":"movie"}])
db.Books.find({}).pretty() # run this command to see if the documents got inserted into the database
```

The web API uses the default local connection string __mongodb://localhost:27017__. Assuming this property hasn't been changed, you can run the project and start using the API at https://localhost:44326/api/movies/

### The API supports the following operations:
- __GET__ at /api/movies/ - to get all movies
- __GET__ at /api/movies/{id} - to get the movie with specific id
- __POST__ at /api/movies/ - raw JSON in body
- __PUT__ at /api/movies/{id} - to update the movie with the specified id
- __DELETE__ at /api/movies/{id} - to delete the movie with that id
